function parse(a){const b=a.trim(),c=b.split(' ');let d=b,e=null;return 1<c.length&&(d=c.shift(),e=c.join(' ')),{event:d,selector:e}}function getPath(a){let b=a.path;if(!b){b=[a.target];for(let c=a.target;c.parentNode;)c=c.parentNode,b.push(c)}return b}function promisify(a){return new Promise((b,c)=>{const d=a();d instanceof Promise?d.then((...a)=>{b(a)},(...a)=>{c(a)}):b(d)})}function waitForDOMReady(){return new Promise((a)=>{if('complete'===document.readyState)a();else{const b=function(){'complete'===document.readyState&&(document.removeEventListener('readystatechange',b,!1),a())};document.addEventListener('readystatechange',b,!1)}})}function elementIsInDOM(a,b=document.body){return!!a&&a!==b&&b.contains(a)}const BASE_CONTROLLER_HANDLERS=Symbol('BASE_CONTROLLER_HANDLERS');class BaseController{constructor(a){const b=()=>{};this.el=a,this.resolve().then(()=>{if(!elementIsInDOM(this.el))return Promise.reject('The element has disappeared');this.el.classList.add('is-resolved');const a=()=>promisify(()=>elementIsInDOM(this.el)?this.render():Promise.reject('The element has disappeared')),c=()=>promisify(()=>elementIsInDOM(this.el)?this.bind():Promise.reject('The element has disappeared'));return(()=>promisify(()=>elementIsInDOM(this.el)?this.init():Promise.reject('The element has disappeared')))().then(()=>a().then(()=>c().then(()=>this))).catch(b)}).catch(b)}destroy(){this.el.classList.remove('is-resolved')}resolve(){return waitForDOMReady()}init(){}render(){}bind(){}unbind(){this[BASE_CONTROLLER_HANDLERS]&&(this[BASE_CONTROLLER_HANDLERS].forEach((a)=>{a.target.removeEventListener(a.event,a.handler,a.options)}),this[BASE_CONTROLLER_HANDLERS]=[])}on(a,b,c=null,d=!1){this[BASE_CONTROLLER_HANDLERS]=this[BASE_CONTROLLER_HANDLERS]||[];const{event:e,selector:f}=parse(a),g=c?c:this.el;let h=function(a){b(a,a.target)};f&&(h=function(a){const c=getPath(a),d=c.find((a)=>a.matches&&a.matches(f));d&&b(a,d)});const i={target:g,selector:f,event:e,handler:h,options:d};return i.target.addEventListener(i.event,i.handler,i.options),this[BASE_CONTROLLER_HANDLERS].push(i),this}once(a,b,c=null,d=!1){this.on(a,(d,e)=>{this.off(a,c),b(d,e)},c,d)}off(a,b=null){const{event:c,selector:d}=parse(a),e=b?b:this.el,f=this[BASE_CONTROLLER_HANDLERS].find((a)=>a.selector===d&&a.event===c&&(!e||a.target===e));!f||!f.target||(this[BASE_CONTROLLER_HANDLERS].splice(this[BASE_CONTROLLER_HANDLERS].indexOf(f),1),f.target.removeEventListener(f.event,f.handler,f.options))}emit(a,b={},c={}){const d=Object.assign({detail:b,bubbles:!0,cancelable:!0},c),e=new CustomEvent(a,d);this.el.dispatchEvent(e)}}const convertAttributeToPropertyName=function(a){return a.split('-').reduce((a,b,c)=>0===c?b:a+b[0].toUpperCase()+b.substr(1))},addProperty=function(a,b,c=null,d=null){const e=convertAttributeToPropertyName(b);'undefined'!=typeof a.prototype[e]&&console.warn(`${a.name} already has a property ${e}`);const f=function(){},g={configurable:!1,get:'function'==typeof c?c:f,set:'function'==typeof d?d:f},h=Object.getOwnPropertyDescriptor(a.prototype,e);if(h){if('function'==typeof h.set){const a=h.set;g.set=function(b){a.call(this,b)}}if('function'==typeof h.get){const a=g.get,b=h.get;g.get=function(){const c=b.call(this);return'undefined'==typeof c?a.call(this):c}}}Object.defineProperty(a.prototype,e,g)},parseResponse=function(a){const b=function(){return'object'==typeof a?Object.entries(a).reduce((a,[b,c])=>{const d=b.toLowerCase();return Object.assign(a,{[d]:c}),a},{}):a}(),c=function(){return b.status?parseInt(b.status,10):parseInt(b,10).toString()===b.toString()?parseInt(b,10):200}();return{status:c,data:b}},fetchJSONP=function(a){return new Promise((b,c)=>{const d=new Date().getTime(),e=`AJAX_FORM_CALLBACK_${d}`;window[e]=(a)=>{window[e]=()=>{};const d=document.getElementById(e);d.parentNode.removeChild(d);const{status:f,data:g}=parseResponse(a);return 200<=f&&399>=f?b(g):c(g)};const f=document.createElement('script');f.id=e,f.src=`${a}&callback=${e}`,document.head.appendChild(f)})},convertFormDataToQuerystring=function(a){return Array.from(a,([a,b])=>{if(b){const c=window.encodeURIComponent(b);return`${a}=${c}`}return''}).join('&')},ajaxForm={attributes:[{attribute:'jsonp',type:'bool'}],controller:class extends BaseController{get action(){return this.elements.form.action}get method(){return this.jsonp?'GET':(this.elements.form.method||'POST').toUpperCase()}get values(){return new FormData(this.elements.form)}init(){this.elements=this.elements||{},this.elements.form=this.el.getElementsByTagName('form')[0],this.elements.successMessage=this.el.getElementsByClassName('js-ajax-form-success')[0],this.elements.errorMessage=this.el.getElementsByClassName('js-ajax-form-error')[0],this.elements.form?this.elements.fields=this.elements.form.getElementsByTagName('input'):console.warn('Activated MrAjaxForm without a form')}render(){this.elements.form.setAttribute('novalidate','novalidate')}bind(){const a=()=>{this.elements.successMessage&&this.elements.successMessage.setAttribute('hidden','hidden'),this.elements.errorMessage&&this.elements.errorMessage.setAttribute('hidden','hidden')};this.on('submit',(b)=>{b.preventDefault(),a();const{url:c,params:d}=this.prepare(this.method);this.submit(c,d).then((a)=>{this.onSuccess(a)},(a)=>{this.onError(a)})},this.elements.form)}prepare(a){return'GET'===a.toUpperCase()?(()=>{const a=convertFormDataToQuerystring(this.values),b=`${this.action}?${a}`,c={method:'GET',headers:new Headers({"Content-Type":'application/json'})};return{url:b,params:c}})():'POST'===a.toUpperCase()?(()=>{const a=this.action,b={method:'POST',headers:new Headers({"Content-Type":'application/x-www-form-urlencoded'})};return{url:a,params:b}})():{url:'/',params:{method:'GET'}}}submit(a,b={}){return this.jsonp?fetchJSONP(a):fetch(a,b).then((a)=>{if(a.status&&200===a.status)return a;const b=new Error(a.statusText);throw b}).then((a)=>{const b=a.headers.get('Content-Type');return b&&b.includes('application/json')?a.json():a.text()})}onSuccess(){this.elements.successMessage&&this.elements.successMessage.removeAttribute('hidden'),this.elements.form.parentNode.removeChild(this.elements.form)}onError(){this.elements.errorMessage&&this.elements.errorMessage.removeAttribute('hidden')}}},keyTrigger={attributes:[{attribute:'key',type:'int'}],controller:class extends BaseController{init(){return this.elements=this.elements||{},this.elements.target=this.el.hasAttribute('href')?this:this.el.querySelector('[href]'),this}bind(){return this.elements.target&&this.on('keyup',(a)=>{a.which===this.key&&(a.preventDefault(),a.stopPropagation(),this.elements.target.click())},document.body),this}}},parseMetaTag=function(){const a=['viewport'];return function(b){const c=b.getAttribute('name'),d=b.getAttribute('property'),e=b.getAttribute('content');return(c||d)&&!a.includes(c)&&{name:c,property:d,content:e}}}(),parseHTML=function(){const a=new DOMParser;return function(b,c=null){const d=a.parseFromString(b,'text/html'),e=d.title;let f=d.body;if(c&&(f=d.body.querySelector(c),!f))throw new Error('not-found');const g=Array.from(d.head.querySelectorAll('meta'),(a)=>parseMetaTag(a)).filter((a)=>!!a);return{title:e,content:f,meta:g}}}();function renderNodes(a,b){for(;b.hasChildNodes();)b.removeChild(b.firstChild);for(let c=a.children.length-1;0<=c;c-=1){const d=a.children[c];Array.from(a.getElementsByTagName('img'),(a)=>{const b=document.createElement('img');return b.src=a.src,b.sizes=a.sizes,b.srcset=a.srcset,b.className=a.className,a.getAttribute('width')&&(b.width=a.width),a.getAttribute('height')&&(b.height=a.height),a.parentNode.replaceChild(b,a),b}),b.firstChild?b.insertBefore(d,b.firstChild):b.appendChild(d)}}function cleanNodes(a,b){if(!b||Array.isArray(b)&&0===b.length)return a;const c=Array.isArray(b)?b.join(', '):b,d=Array.from(a.querySelectorAll(c));return d.forEach((a)=>a.parentNode.removeChild(a)),a}const overlay={attributes:[],controller:class extends BaseController{get isShown(){return!!this._isShown}set isShown(a){this._isShown=!!a,this.el.classList.toggle('is-hidden',!this._isShown),this.el.classList.toggle('is-shown',this._isShown),document.body.classList.toggle('is-showing-overlay',this._isShown)}get upState(){return Object.assign({},this._upState)}set upState(a){this._upState=Object.assign({},a)}init(){this.originalClasses=Array.from(this.el.classList),this.stripFromResponse=['link[rel="up"]',this.el.tagName]}render(){this.originalClasses=Array.from(this.el.classList);const a=this.el.querySelector('link[rel="up"]');if(a){const b=a.getAttribute('href');fetch(b,{credentials:'include'}).then((a)=>a.text()).then((a)=>{const{title:c,content:d}=parseHTML(a);if(d){if(d.getElementsByTagName(this.el.tagName)[0]){const a=d.getElementsByTagName(this.el.tagName)[0].classList;this.originalClasses=Array.from(a)}const a=document.createDocumentFragment(),e=cleanNodes(d,this.stripFromResponse);renderNodes(e,a),this.el.parentNode.insertBefore(a,this.el),this.upState={href:b,title:c,root:!0,by:this.el.tagName};const f={href:window.location.href,title:document.title,root:!1,by:this.el.tagName};window.history.replaceState(f,f.title,f.href),this.isShown=!0}})}else{const a=document.title,b=window.location.href;this.upState={href:b,title:a,root:!0,by:this.el.tagName},window.history.replaceState(this.upState,a,b)}return this}bind(){const a=(a)=>{if(this.isShown&&(a.preventDefault(),this.hide(),this.upState)){const{title:a,href:b}=this.upState;window.history.pushState(this.upState,a,b),document.title=a}};return this.on('click',(b)=>{b.target===this.el&&a(b)},this.el),this.on('click .js-overlay-show',(a,b)=>{const c=b.href;c&&(a.preventDefault(),this.show(c))},document.body),this.on('click .js-overlay-hide',(b)=>{a(b)},document.body),this.on('popstate',(a)=>{if(a.state&&a.state.by===this.el.tagName&&a.state.href){const{href:b,title:c}=a.state,{href:d,title:e}=this.upState;a.state.root&&b===d&&c===e?(this.hide(),document.title=this.upState.title):this.show(a.state.href,!1)}},window),this}show(a,b=!0){const c=(a)=>{a.forEach((a)=>{let b='meta';a.property&&(b=`${b}[property="${a.property}"]`),a.name&&(b=`${b}[name="${a.name}"]`);const c=document.head.querySelector(b);if(c)c.setAttribute('content',a.content);else{const b=document.createElement('meta');b.property=a.property,b.content=a.content,b.name=a.name,document.head.appendChild(b)}})},d=(a)=>{const b=Array.from(a.classList);this.el.className='',b.forEach((a)=>this.el.classList.add(a)),this.isShown=!0;const c=cleanNodes(a,this.stripFromResponse);renderNodes(c,this.el),window.requestAnimationFrame(()=>{this.el.scrollTop=0})},e=(a)=>{document.title=a};return fetch(a,{credentials:'include'}).then((a)=>a.text()).then((f)=>{const{title:g,content:h,meta:i}=parseHTML(f,this.el.tagName);if(c(i),h&&(d(h),e(g),b)){const b={href:a,title:g,by:this.el.tagName};window.history.pushState(b,g,a)}})}hide(){for(this.isShown=!1;this.el.hasChildNodes();)this.el.removeChild(this.el.firstChild);this.originalClasses&&Array.isArray(this.originalClasses)&&(this.el.className='',this.originalClasses.forEach((a)=>this.el.classList.add(a)))}}},getMetaValues=function(a=document.head,b=''){const c=function(a){let b=a.getAttribute('name');b||(b=a.getAttribute('property'));const c=b.match(/^(?:.*:)?(.*)$/i);return c?c[1]:null},d=[...a.querySelectorAll(`meta${b}`)];return d.reduce((a,b)=>{const d=c(b);if(d){const c=b.getAttribute('content');Object.assign(a,{[d]:c})}return a},{})},generateQuerystring=function(a){const b=Object.entries(a).map(([a,b])=>{if(b){const c=window.encodeURIComponent(b);return`${a}=${c}`}return''}).filter((a)=>!!a).join('&');return 0<b.length?`?${b}`:''},openWindow=function(a,b={},c={}){var d=Math.round;const e=generateQuerystring(b),{name:f,invisible:g}=c;if(g)return void(window.location=`${a}${e}`);let{width:h,height:i}=c;h=h||560,i=i||420;const j=d((window.innerWidth-h)/2),k=d((window.innerHeight-i)/2),l=window.open(`${a}${e}`,f,`width=${h}, height=${i}, left=${j}, top=${k}`);'function'==typeof l.focus&&l.focus()},share={attributes:[],controller:class extends BaseController{get title(){const a=this.el.getAttribute('mr-share-title'),b=document.title;return a||b}get description(){const a=this.el.getAttribute('mr-share-description');let b='';const c=document.head.querySelector('meta[name="description"');return c&&(b=c.getAttribute('content')),a||b}get url(){const a=this.el.getAttribute('mr-share-url');let b=window.location.href;const c=document.head.querySelector('link[rel="canonical"]');return c&&(b=c.getAttribute('href')),a||b}init(){return this.elements={},this.elements.facebook=this.el.getElementsByClassName('js-share-facebook')[0],this.elements.twitter=this.el.getElementsByClassName('js-share-twitter')[0],this.elements.pinterest=this.el.getElementsByClassName('js-share-pinterest')[0],this.elements.mail=this.el.getElementsByClassName('js-share-mail')[0],this}bind(){return this.elements.facebook&&this.on('click',(a)=>{a.stopPropagation(),this.shareOnFacebook()},this.elements.facebook),this.elements.twitter&&this.on('click',(a)=>{a.stopPropagation(),this.shareOnTwitter()},this.elements.twitter),this.elements.pinterest&&this.on('click',(a)=>{a.stopPropagation(),this.shareOnPinterest()},this.elements.pinterest),this.elements.mail&&this.on('click',(a)=>{a.stopPropagation(),this.shareViaMail()},this.elements.mail),this}shareOnFacebook(){const a=getMetaValues(document.head,'[property^="og:"]'),b={u:a.url||this.url,title:a.title||this.title,caption:a.site_name,description:a.description||this.description},c=/^(https?:)?\/\//i;c.test(a.image)&&(b.picture=a.image),openWindow('https://www.facebook.com/sharer.php',b,{name:'Share on Facebook',width:560,height:630})}shareOnPinterest(){const a=getMetaValues(document.head,'[property^="og:"]'),b={url:a.url||this.url,description:a.description||this.description,toolbar:'no',media:a.image};openWindow('https://www.pinterest.com/pin/create/button',b,{name:'Share on Pinterest',width:740,height:700})}shareOnTwitter(){const a=getMetaValues(document.head,'[name^="twitter:"]'),b={url:a.url||this.url,text:a.title||this.title,via:a.site?a.site.replace('@',''):void 0};openWindow('https://twitter.com/intent/tweet',b,{name:'Share on Twitter',width:580,height:253})}shareViaMail(){const a={subject:this.title,body:`${this.title} (${this.url}) - ${this.description}`};openWindow('mailto:',a,{invisible:!0})}}},smoothState={attributes:[],controller:class extends BaseController{get path(){return this._path||[]}get latestPathEntry(){const a=this.path.length;return 0<a?this.path[a-1]:void 0}addToPath(a){let b=a.replace(window.location.origin,'');b='/'===b[0]?b:`/${b}`,this._path=this._path||[];let c;0<this._path.length&&(c=this._path[this._path.length-1].to);const d={from:c,to:b};return this._path.push(d),this}removeLatestFromPath(){return(this._path||[]).pop(),this}pushState(a,b='',c=!0){return window.history.pushState({href:a,title:b},b,a),c&&this.addToPath(a),this}replaceState(a,b='',c=!0){return window.history.replaceState({href:a,title:b},b,a),c&&this.addToPath(a),this}init(){const a=window.location.href,b=document.title;return this.replaceState(a,b),this}bind(){this.on('popstate',(a)=>{a.state&&a.state.href&&this.goTo(a.state.href,!1).catch((b)=>{console.warn('Could not run popstate to',a.state.href),console.warn('Error:',b)})},window),this.on('click a',(a,b)=>{if(b.classList&&b.classList.contains('js-mr-smooth-state-disable'))return;if(!b.hostname||b.hostname!==window.location.hostname)return;const c=b.getAttribute('href');return c?void(a.preventDefault(),a.stopPropagation(),this.goTo(c).catch((a)=>{console.warn('Could not navigate to',c),console.warn('Error:',a)})):void console.warn('Click on link without href')},document.body)}goTo(a,b=!0){return new Promise((c,d)=>{window.dispatchEvent(new CustomEvent('smoothState:before')),document.body.classList.add('is-loading'),this.addToPath(a);const e=(a)=>{this.removeLatestFromPath(),d(a)},f={};return f.container=this.el,f.path=Object.assign(this.latestPathEntry),this.onBefore(f).then(()=>{fetch(a,{credentials:'include'}).then((a)=>a.text()).then((d)=>{const{title:g,content:h}=parseHTML(d,'mr-smooth-state');window.dispatchEvent(new CustomEvent('smoothState:start')),f.fetched={title:g,content:h},this.onStart(f).then(()=>{window.dispatchEvent(new CustomEvent('smoothState:ready')),this.onReady(f).then(()=>{const{title:d,content:e}=f.fetched;window.requestAnimationFrame(()=>{renderNodes(e,this.el),document.title=d,b&&this.pushState(a,d,!1),window.requestAnimationFrame(()=>{document.body.classList.remove('is-loading'),window.dispatchEvent(new CustomEvent('smoothState:after')),this.onAfter(f).then(()=>c()).catch(()=>c())})})}).catch((a)=>e(a))}).catch((a)=>e(a))}).catch((a)=>e(a))}).catch((a)=>e(a))})}onBefore(a){return Promise.resolve(a)}onStart(a){return Promise.resolve(a)}onReady(a){return Promise.resolve(a)}onAfter(a){return Promise.resolve(a)}}},timeAgo={attributes:['datetime'],controller:class extends BaseController{resolve(){return Promise.resolve(!0)}init(){this.translations={ago:'ago',year:['year','years'],month:['month','months'],week:['week','weeks'],day:['day','days'],hour:['hour','hours'],minute:['minute','minutes'],second:['second','seconds']}}getCountedNoun(a,b=1){return!!this.translations[a]&&('string'==typeof this.translations[a]?this.translations[a]:1===b?this.translations[a][0]:this.translations[a][1])}render(){var a=Math.round;return this.el.textContent=((b)=>{const c=new Date(b),d=c.getTime(),e=new Date;let f;if(!isNaN(d)){const b=Math.floor(e.getTime()-d);f={},f.seconds=a(b/1e3),f.minutes=a(f.seconds/60),f.hours=a(f.minutes/60),f.days=a(f.hours/24),f.weeks=a(f.days/7),f.months=a(f.weeks/4),f.years=a(f.months/12)}if(f){if(12<f.months){const a=this.getCountedNoun('year',f.years);return`${f.years} ${a} ${this.translations.ago}`}if(7<f.weeks){const a=this.getCountedNoun('month',f.months);return`${f.months} ${a} ${this.translations.ago}`}if(21<f.days){const a=this.getCountedNoun('week',f.weeks);return`${f.weeks} ${a} ${this.translations.ago}`}if(24<f.hours){const a=this.getCountedNoun('day',f.days);return`${f.days} ${a} ${this.translations.ago}`}if(60<f.minutes){const a=this.getCountedNoun('hour',f.hours);return`${f.hours} ${a} ${this.translations.ago}`}if(60<f.seconds){const a=this.getCountedNoun('minute',f.minutes);return`${f.minutes} ${a} ${this.translations.ago}`}const a=this.getCountedNoun('second',f.seconds);return`${f.seconds} ${a} ${this.translations.ago}`}return this.el.textContent})(this.datetime),this}}},noop=function(){},generateStringAttributeMethods=function(a){return{getter:function(){return this.el.getAttribute(a)||void 0},setter:function(b){const c=b&&b.toString?b.toString():void 0,d=this[a];c===d||(c?this.el.setAttribute(a,c):this.el.removeAttribute(a))}}},generateBoolAttributeMethods=function(a){return{getter:function(){return!!this.el.hasAttribute(a)},setter:function(b){const c='string'==typeof b||!!b,d=this[a];c===d||(c?this.el.setAttribute(a,''):this.el.removeAttribute(a))}}},generateIntegerAttributeMethods=function(a){return{getter:function(){return parseInt(this.el.getAttribute(a),10)},setter:function(b){const c=parseInt(b,10),d=this[a];c===d||(Number.isNaN(c)?(console.warn(`Could not set ${a} to ${b}`),this.el.removeAttribute(a)):this.el.setAttribute(a,c))}}},generateNumberAttributeMethods=function(a){return{getter:function(){return parseFloat(this.el.getAttribute(a))},setter:function(b){const c=parseFloat(b),d=this[a];c===d||(Number.isNaN(c)?(console.warn(`Could not set ${a} to ${b}`),this.el.removeAttribute(a)):this.el.setAttribute(a,c))}}},generateAttributeMethods=function(a,b='string'){if('bool'===b)return generateBoolAttributeMethods(a);return'int'===b||'integer'===b?generateIntegerAttributeMethods(a):'float'===b||'number'===b?generateNumberAttributeMethods(a):'string'===b?generateStringAttributeMethods(a):{getter:noop,setter:noop}},CONTROLLER=Symbol('controller'),registerElement=function(a,b){const c=b.observedAttributes||[];customElements.define(a,class extends HTMLElement{static get observedAttributes(){return c}attributeChangedCallback(a,b,c){if(b!==c&&this[CONTROLLER]){const d=convertAttributeToPropertyName(a),e=Object.getPrototypeOf(this[CONTROLLER]),f=Object.getOwnPropertyDescriptor(e,d);f&&f.set&&(this[CONTROLLER][d]=c);const g=this[CONTROLLER][`${d}ChangedCallback`];'function'==typeof g&&g.call(this[CONTROLLER],b,c)}}constructor(){super(),c.forEach((a)=>{'undefined'!=typeof this[a]&&console.warn(`Requested syncing on attribute '${a}' that already has defined behavior`),Object.defineProperty(this,a,{configurable:!1,enumerable:!1,get:()=>this[CONTROLLER][a],set:(b)=>{this[CONTROLLER][a]=b}})})}connectedCallback(){this[CONTROLLER]=new b.controller(this)}disconnectedCallback(){'function'==typeof this[CONTROLLER].unbind&&this[CONTROLLER].unbind(),'function'==typeof this[CONTROLLER].destroy&&this[CONTROLLER].destroy(),this[CONTROLLER]=null}})},registerAttribute=function(){const a=[],b=new MutationObserver(()=>{});return function(c,d={}){waitForDOMReady().then(()=>{const e=d.extends||HTMLElement,f=function(a){return Array.isArray(e)?e.some((b)=>a instanceof b):a instanceof e},g=function(a){const b=a;return b[CONTROLLER]=new d.controller(b),b},h=function(a){const b=a;return b[CONTROLLER]&&(b[CONTROLLER].destroy(),b[CONTROLLER]=null),b};a.push((a)=>{if('attributes'===a.type&&f(a.target)){const b=a.target;b.hasAttribute(c)?g(b):h(b)}else if('childList'===a.type);}),b.observe(document.body,{attributes:!0,subtree:!0,childList:!0,attributeFilter:[c]}),Array.from(document.body.querySelectorAll(`[${c}]`),(a)=>f(a)?a[CONTROLLER]?a:g(a):(console.warn('Custom attribute',c,'added on non-supported element'),!1))})}}(),addAttributesToController=function(a,b=[]){return b.map((b)=>{if('string'==typeof b){const{getter:c,setter:d}=generateAttributeMethods(b,'string');return addProperty(a,b,c,d),b}if('object'==typeof b){const c=b.type||'string',d=b.attribute,{getter:e,setter:f}=generateAttributeMethods(d,c);return addProperty(a,d,e,f),d}return'function'==typeof b.attachTo&&(b.attachTo(a),!1)}).filter((a)=>!!a)};function defineCustomElement(a,b={}){const c=1<a.split('-').length,d=['element','attribute'].includes(b.type)?b.type:'element';if('element'===d&&!c)return console.warn(a,'is not a valid Custom Element name. Register as an attribute instead.'),!1;const e=Array.isArray(b.attributes)?b.attributes:[],f=b.controller,g=b.extends;if('element'===d&&g)return console.warn('`extends` is not supported on element-registered Custom Elements. Register as an attribute instead.'),!1;const h=addAttributesToController(f,e),i={type:d,extends:g,attributes:e,controller:f,observedAttributes:h};return'attribute'===d?registerAttribute(a,i):registerElement(a,i)}defineCustomElement('mr-slideshow',{attributes:[{attribute:'loop',type:'bool'},{attribute:'auto',type:'int'},{attribute:'current',type:'int'}],controller:class extends BaseController{set current(a){let b=parseInt(a,10);if(b!==this.current){const a=this.elements.items.length;b>=a&&(b=this.loop?0:a-1),0>b&&(b=this.loop?a-1:0),this.elements.items.forEach((a,c)=>{a.classList.contains('is-active')&&a.classList.remove('is-active'),c===b&&a.classList.add('is-active')}),this.el.setAttribute('current',b)}}set auto(a){const b=parseInt(a,10);b===this.auto||(0>=b?this.el.removeAttribute('auto'):this.el.setAttribute('auto',b),this.start())}start(){this.stop(),this.auto&&0<this.auto&&(console.log('Starting auto interval',this.auto),this.looper=setInterval(()=>{this.next()},this.auto))}stop(){this.looper&&(console.log('Stopping auto interval'),clearInterval(this.looper),this.looper=null)}next(){++this.current}previous(){--this.current}resolve(){return 1===this.el.children.length?new Promise(()=>{}):super.resolve()}init(){this.elements={},this.elements.items=Array.from(this.el.children),this.current=0,this.start()}destroy(){this.stop(),super.destroy()}}});